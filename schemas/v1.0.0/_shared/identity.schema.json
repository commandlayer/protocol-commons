{
  "$id": "https://commandlayer.org/schemas/v1.0.0/_shared/identity.schema.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "identity",
  "description": "Lightweight identity descriptor for the actor/subject involved in a request or receipt.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "label": {
      "description": "Human-friendly label or handle for this identity.",
      "type": "string",
      "minLength": 1,
      "maxLength": 256
    },
    "wallet_address": {
      "description": "Optional EVM wallet address associated with this identity.",
      "type": "string",
      "pattern": "^0x[a-fA-F0-9]{40}$"
    },
    "ens_name": {
      "description": "Optional ENS name associated with this identity.",
      "type": "string",
      "minLength": 3,
      "maxLength": 253
    },
    "email": {
      "description": "Optional contact email.",
      "type": "string",
      "format": "email"
    },
    "avatar_url": {
      "description": "Optional avatar or profile image URL.",
      "type": "string",
      "format": "uri"
    },
    "roles": {
      "description": "Optional set of roles for this identity (e.g., user, agent, system).",
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 64
      },
      "minItems": 1,
      "uniqueItems": true
    },
    "labels": {
      "description": "Optional additional key/value labels for this identity.",
      "type": "object",
      "propertyNames": {
        "type": "string",
        "minLength": 1,
        "maxLength": 64
      },
      "additionalProperties": {
        "type": [
          "string",
          "number",
          "boolean",
          "null"
        ]
      }
    }
  },
  "required": ["label"]
}
